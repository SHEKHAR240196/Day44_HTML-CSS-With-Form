<html>
    <head>
        <title>Basic input types</title>
        <link rel = "stylesheet"  href = "Simple_Form1.css"></link>
        </head>
        <body>
           <form>
               <header class = "headerContainer">HTML 5 Form Input Fields</header>
              <div>
                  <label for ="text">text input type for name:</label>
                  <input type ="text" id = "text" name = "text"/>
                  <error-output class ="text-error" for ="text"></error-output>
              </div>
              <br>
              <div>
                  <label for ="pwd">password for input type:</label>
                  <input type="password" id ="pwd" name ="pwd">
                  <error-output class ="pwd-error" for ="pwd"></error-output>
              </div>
              <br>
              <div>
                  <label for ="email">Emai input type:</label>
                  <input type ="email" id ="email" name ="email"/>
                  <error_output class="email-error" id = "email-error" for ="email"></error_output>
              </div>
              <br>
              <div>
                  <label for ="url">Url input type:</label>
                  <input type ="url"  id ="url" name ="url"/>
                  <error-output class="url-error" for="url"></error-output>
              </div>
              <br>
              <div>
                  <label for ="number">Number input type:</label>
                  <input type ="number" id ="number" name ="number"/>
                  <error-output class ="number-error"></error-output>
              </div>
              <br>
              <div>
                  <label for ="tel">Tel input type:</label>
                  <input type = "tel" id ="tel" name ="tel" />
                  <error-output class="tel-error" for="tel"></error-output>
              </div>
              <br>
              <div>
                  <label for ="search">Search input type:</label>
                  <input type ="search" id ="search" name ="search"/>
                  <error-output class="search-error" for="search"></error-output>
      
              </div>
              <br>
              <div class ="nativeDateTimePicker">
                  <label for ="party">Choose date and time:</label>
                  <input type ="datetime-local" id ="party" name ="bday">
                  <span class="validity"></span>
               </div>
               <br>
               <div>
                   <label for="salary">Choose your salary:</label>
                   <input
                       type="range"
                       id="salary"
                       name="salary"
                       min="20000"
                       max="1000000"
                       step="1000"
                       value="100000"
                     />
               
                  <output class="salary-output" for="salary">40000</output>
                 <error-output class="salary-output" for="salary"></error-output>
               </div>
               <br>
           <div>
               <button>Submit</button>
           </div>
                               
        </div>
    </form>
    <script>
        
        //UC1-Validate FirstName
        const text = document.querySelector("#text");
        const textError = document.querySelector(".text-error");
        text.addEventListener("input",function() {
            let nameRegex = RegExp("^[A-Z]{1}[a-z]{2,}$");
            if (nameRegex.test(text.value)) {
                textError.textContent = "";
            } else {
                textError.textContent ="Name is incorrect";            }

        });

        //UC2-Validate Email
      const email = document.querySelector("#email");
      const emailError = document.querySelector(".email-error");
      email.addEventListener("input",function() {
        let emailRegex = RegExp(
          "^(([A-Za-z0-9-]+).)?([A-Za-z0-9\.-]+)@([A-Za-z0-9-]+).([a-z]{2,8})(.[a-z]{2,8})?$"
         );
         if(emailRegex.test(email.value)) {
             emailError.textContent ="";
         }else {
             emailError.textContent ="Inavalid email";
         }
      });

      // UC3-Validate Phone number
      const phoneNumber = document.querySelector("#tel");
      const phoneError = document.querySelector(".tel-error");
      phoneNumber.addEventListener("input",function() {
        let phoneRegex = RegExp("^[1-9]{1,3}\s[0-9]{10,}$"
      );
        if(phoneRegex.test(phoneNumber.value)) {
             phoneNumber.textContent = "";
        }else {
            phoneError.textContent ="Invali PhoneNumber";

        }
    });
      
   //UC4 and UC5 - Password validation
   const password = document.querySelector("#pwd");
      const passwordError = document.querySelector(".pwd-error");
      password.addEventListener("input", function () {
        let minCharsRegex = RegExp(".{8,}$");
        let oneUpperCaseRregex = RegExp("(?=.*[A-Z])");
        let oneNumberRegex = RegExp("(?=.*[0-9])");
        let specialCharRegex = RegExp("(?=.[!@#$%^&_+=])");
        let onlyOneSpecialCharRegex = RegExp(
          "^([A-Za-z0-9])[!@#$%^&_+=]{1}([A-Za-z0-9]*)$"
        );
        const SPECIAL_CHARS_NUMBER = 1;

        if (minCharsRegex.test(password.value)) {
          passwordError.textContent = "";
          if (oneUpperCaseRregex.test(password.value)) {
            passwordError.textContent = "";
            if (oneNumberRegex.test(password.value)) {
              passwordError.textContent = "";
              if (specialCharRegex.test(password.value)) {
                passwordError.textContent = "";
             
              } else {
                passwordError.textContent = "special char not found!";
              }
            } else {
              passwordError.textContent = "no number found!";
            }
          } else {
            passwordError.textContent = "no upper case found!";
          }
        } else {
          passwordError.textContent = "Password is too short!";
        }
      });

      const salary = document.querySelector("#salary");
      const output = document.querySelector(".salry-output");
      output.textContent = salary.value;
      salary.addEventListener("input", function () {
        output.textContent = salary.value;
      });
        
    </script>
    </body>
</html>